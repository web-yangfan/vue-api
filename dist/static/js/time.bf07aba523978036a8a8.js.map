{"version":3,"sources":["webpack:///./src/module/vue2/components/directives/time/time.js","webpack:///./src/module/vue2/components/directives/time/timeFn.js"],"names":["__WEBPACK_IMPORTED_MODULE_0__timeFn_js__","__webpack_require__","__webpack_exports__","bind","el","binding","vnode","innerHTML","getFormatTime","value","__timeout__","setInterval","unbind","clearInterval","Object","defineProperty","time","getUnix","Date","getTime","getTodayUnix","date","setHours","setMinutes","setSeconds","setMilliseconds","getYearUnix","setMonth","setDate","getLastDate","month","getMonth","day","getDate","getFullYear","timestamp","now","today","timer","Math","floor","ceil"],"mappings":"uGAAA,IAAAA,EAAAC,EAAA,QAEAC,EAAA,SAEEC,KAFa,SAEPC,EAAIC,EAASC,GACjBF,EAAGG,UAAYP,EAAA,QAAOQ,cAAcH,EAAQI,OAC5CL,EAAGM,YAAcC,YAAY,WAC3BP,EAAGG,UAAYP,EAAA,QAAOQ,cAAcH,EAAQI,QAC3C,MAELG,OARa,SAQLR,EAAIC,GACVQ,cAAcT,EAAGM,oBACVN,EAAGM,iDCZdI,OAAAC,eAAAb,EAAA,cAAAO,OAAA,QAAIO,KAEJA,EAAKC,QAAU,WAEb,OADW,IAAIC,MACHC,WAIdH,EAAKI,aAAe,WAClB,IAAIC,EAAO,IAAIH,KAKf,OAJAG,EAAKC,SAAS,GACdD,EAAKE,WAAW,GAChBF,EAAKG,WAAW,GAChBH,EAAKI,gBAAgB,GACdJ,EAAKF,WAIdH,EAAKU,YAAc,WACjB,IAAIL,EAAO,IAAIH,KAOf,OANAG,EAAKM,SAAS,GACdN,EAAKO,QAAQ,GACbP,EAAKC,SAAS,GACdD,EAAKE,WAAW,GAChBF,EAAKG,WAAW,GAChBH,EAAKI,gBAAgB,GACdJ,EAAKF,WAIdH,EAAKa,YAAc,SAACb,GAClB,IAAIK,EAAO,IAAIH,KAAKF,GAChBc,EAAQT,EAAKU,WAAa,EAAI,GAAK,KAAOV,EAAKU,WAAa,GAAKV,EAAKU,WAAa,EACnFC,EAAMX,EAAKY,UAAY,GAAK,IAAMZ,EAAKY,UAAYZ,EAAKY,UAC5D,OAAOZ,EAAKa,cAAgB,IAAMJ,EAAQ,IAAME,GAIlDhB,EAAKR,cAAgB,SAAC2B,GACpB,IAAIC,EAAMpB,EAAKC,UACXoB,EAAQrB,EAAKI,eAEbkB,GADOtB,EAAKU,eACHU,EAAMD,GAAa,KAehC,OAbIG,GAAS,EACL,KACGC,KAAKC,MAAMF,EAAQ,KAAO,EAC7B,KACGA,EAAQ,KACXC,KAAKC,MAAMF,EAAQ,IAAM,MACtBA,GAAS,MAASH,EAAYE,GAAS,EAC1CE,KAAKC,MAAMF,EAAQ,MAAQ,MACxBA,EAAQ,OAAS,GACpBC,KAAKE,KAAKH,EAAQ,OAAS,KAE3BtB,EAAKa,YAAYM,IAK3BjC,EAAA","file":"static/js/time.bf07aba523978036a8a8.js","sourcesContent":["// 实时时间转换\nimport timeFn from './timeFn.js'\nexport default {\n  // 在bind钩子里,将指令v-time表达式的值binding.value作为参数传入Time.getFormatTime()方法得到格式化时间，在通过el.innerHTML写入指令所在元素，定时器el.__timeout每分钟触发一次更新时间，并且在unbind钩子里清除掉\n  bind (el, binding, vnode) {\n    el.innerHTML = timeFn.getFormatTime(binding.value)\n    el.__timeout__ = setInterval(function () {\n      el.innerHTML = timeFn.getFormatTime(binding.value)\n    }, 6000)\n  },\n  unbind (el, binding) {\n    clearInterval(el.__timeout__)\n    delete el.__timeout__\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/module/vue2/components/directives/time/time.js","let time = {}\n// 获取当期时间错\ntime.getUnix = () => {\n  let date = new Date()\n  return date.getTime()\n}\n\n// 获取今天0点0分0秒的时间戳\ntime.getTodayUnix = () => {\n  let date = new Date()\n  date.setHours(0)\n  date.setMinutes(0)\n  date.setSeconds(0)\n  date.setMilliseconds(0)\n  return date.getTime()\n}\n\n// 获取今年1月1日0点0分0秒的时间戳\ntime.getYearUnix = () => {\n  let date = new Date()\n  date.setMonth(0)\n  date.setDate(1)\n  date.setHours(0)\n  date.setMinutes(0)\n  date.setSeconds(0)\n  date.setMilliseconds(0)\n  return date.getTime()\n}\n\n// 获取标准年月日\ntime.getLastDate = (time) => {\n  let date = new Date(time)\n  let month = date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1\n  let day = date.getDate() < 10 ? '0' + date.getDate() : date.getDate()\n  return date.getFullYear() + '-' + month + '-' + day\n}\n\n// 转换时间\ntime.getFormatTime = (timestamp) => {\n  let now = time.getUnix() // 当前时间戳\n  let today = time.getTodayUnix() // 今天0点时间戳\n  let year = time.getYearUnix() // 今年0点时间戳\n  let timer = (now - timestamp) / 1000 // 转换为秒级时间戳\n  let tip = ''\n  if (timer <= 0) {\n    tip = '刚刚'\n  } else if (Math.floor(timer / 60) <= 0) {\n    tip = '刚刚'\n  } else if (timer < 3600) {\n    tip = Math.floor(timer / 60) + '分钟前'\n  } else if (timer >= 3600 && (timestamp - today >= 0)) {\n    tip = Math.floor(timer / 3600) + '小时前'\n  } else if (timer / 86400 <= 31) {\n    tip = Math.ceil(timer / 86400) + '天前'\n  } else {\n    tip = time.getLastDate(timestamp)\n  }\n  return tip\n}\n\nexport default time\n\n\n\n// WEBPACK FOOTER //\n// ./src/module/vue2/components/directives/time/timeFn.js"],"sourceRoot":""}